var webpack = require('webpack');
var config = require('./webpack.event_bus');

var output = Object.assign({}, config.output, { 
                                 filename: config.output.filename.replace('.js', '.min.js')
                               });

var plugins = [
  new webpack.optimize.UglifyJsPlugin({ 
    compress: {
      warnings: false
    }
  }),
  new webpack.optimize.OccurenceOrderPlugin()
];

module.exports = Object.assign({}, config, { output: output, plugins: plugins });
